<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- metas -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,
                                  initial-scale=1,
                                  shrink-to-fit=no">
    <meta name="description" content="Strada Routing designs AI Tools for
                                      optimal bundling, pricing, and routing
                                      of truck loads.">
    <meta name="author" content="Landon Smith">
    <!-- css -->
    <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.2/jquery.scrollTo.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.2/jquery.scrollTo.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" href="css/stylesheet.css" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar navbar-expand-sm navbar-dark fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="/#page-top">
          <!-- <h2><mark>Co</mark>llab<br><mark>Co</mark>mmons</h2> -->
          <p>The</p><h2><mark>Pro</mark>ject<br>Pro<mark>ject</mark></h2>
          <p>
            a venue for harvard<br>
            connection and innovation
          </p>
        </a>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="/#about">about</a>
              </li>
              <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="/#contact">perks</a>
              </li>
              <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href='/careers'>contact</a>
              </li>
            </ul>
        </div>
      </div>
    </nav>

    <!-- APPLY -->
    <div class='big-box container justify-content-center'>
      <div class='box apply' onclick='apply()' id='apply'>
        apply.
      </div>
    <div class='upform content apply-form' method="post" action="/index" id="apply_form">
      <form>
      <div class="upform-header"></div>
      <div class="upform-main">
        <div class="input-block">
          <div class="label">Q1. If we give you a proven system to make at least $7,500 per month online, would you follow it to a tee?</div>
          <div class="input-control">
            <input id="toggle-on-q1" class="toggle toggle-left" name="q1" value="yes" type="radio">
            <label for="toggle-on-q1" class="btn"><span>A</span> Yes</label>
            <input id="toggle-off-q1" class="toggle toggle-right" name="q1" value="no" type="radio">
            <label for="toggle-off-q1" class="btn"><span>B</span> No</label>
          </div>
        </div>

        <div class="input-block">
          <div class="label">Q2. Would you be willing to invest at least 30 minutes per day to make it work?</div>
          <div class="input-control">
            <input id="toggle-on-q2" class="toggle toggle-left" name="q2" value="yes" type="radio">
            <label for="toggle-on-q2" class="btn"><span>A</span> Yes</label>
            <input id="toggle-off-q2" class="toggle toggle-right" name="q2" value="no" type="radio">
            <label for="toggle-off-q2" class="btn"><span>B</span> No</label>
          </div>
        </div>

        <div class="input-block">
          <div class="label">Q3. Would you like to get started NOW?</div>
          <div class="input-control">
            <input id="toggle-on-q3" class="toggle toggle-left" name="q3" value="yes" type="radio">
            <label for="toggle-on-q3" class="btn"><span>A</span> Yes</label>
            <input id="toggle-off-q3" class="toggle toggle-right" name="q3" value="no" type="radio">
            <label for="toggle-off-q3" class="btn"><span>B</span> No</label>
          </div>
        </div>

        <div class="input-block">
          <div class="label">What is your name?</div>
          <div class="input-control">
            <input type="text" class="required" autocomplete="off">
          </div>
        </div>

      </div>

      <div class="upform-footer">
        <button type="submit" class="btn btn-primary btn-lg">Submit</button>
      </div>

    </form>
  </div>

      <!-- <form class="content apply-form" method="post" action="/index" id="apply_form">
          {{ form1.hidden_tag() }}
          {% for elt in form1 %}
            {% if not elt.name in ["csrf_token", "submit"] and not loop.index>1 %}
            <div class="tab" id='{{ elt.name }}'>
              {% if elt.errors in [[], ()] %}
              <h1 style='color:white;'>{{elt.label}}</h1>
                {{ elt(class='input valid') }}
              {% else %}
                {{ elt(class='input invalid') }}
                <p style="color: red; padding: 0px;">{{ elt.errors[0] }}</p>
              {% endif %}
            </div>
            {% endif %}
          {% endfor %}
          <div class='row'>
            <button type="submit" onclick='back()' class="col btn btn-primary">Back</button>
            <button type="submit" class="col btn btn-primary">Submit</button>
          </div>
      </form> -->
      <br>
      <div class='box login' onclick='login()' id='login'>
        login.
      </div>
      <form class="content login-form" method="post" action="/index" id="login_form">
        {{ form2.hidden_tag() }}
        {{ form2.numRetrieve()}}
        <div align="center"><button type="submit" class="btn btn-primary">Submit</button></p></div>
      </form>
    </div>
  </body>

  <script>
  function hide_boxes() {
    var coll = document.getElementsByClassName("box");
    for (i = 0; i < coll.length; i++) {
      coll[i].style.display = 'none';}
    }

  function hide_forms() {
    var forms = document.getElementsByClassName("content");
    for (i = 0; i < forms.length; i++) {
      forms[i].style.display = 'none';}
    }

  function show_boxes() {
    var coll = document.getElementsByClassName("box");
    for (i = 0; i < coll.length; i++) {
      coll[i].style.display = 'block';}
    }

  function apply() {
    hide_boxes();
    var apply_form = document.getElementById('apply_form');
    apply_form.style.display = 'block';
  }

  function login() {
    hide_boxes();
    var login_form = document.getElementById('login_form');
    login_form.style.display = 'block';
  }

  function back() {
    show_boxes();
    hide_forms();
  }

  // NEW STUFF
  $.fn.upform = function() {
  var $this = $(this);
  var container = $this.find(".upform-main");

  $(document).ready(function() {
    $(container).find(".input-block").first().click();
  });

  $($this).find("form").submit(function() {
    return false;
  });

  $(container)
    .find(".input-block")
    .not(".input-block input")
    .on("click", function() {
    rescroll(this);
  });

  $(container).find(".input-block input").keypress(function(e) {
    if (e.which == 13) {
      if ($(this).hasClass("required") && $(this).val() == "") {
      } else moveNext(this);
    }
  });

  $(container).find('.input-block input[type="radio"]').change(function(e) {
    moveNext(this);
  });

  $(window).on("scroll", function() {
    $(container).find(".input-block").each(function() {
      var etop = $(this).offset().top;
      var diff = etop - $(window).scrollTop();

      if (diff > 100 && diff < 300) {
        reinitState(this);
      }
    });
  });

  function reinitState(e) {
    $(container).find(".input-block").removeClass("active");

    $(container).find(".input-block input").each(function() {
      $(this).blur();
    });
    $(e).addClass("active");
    /*$(e).find('input').focus();*/
  }

  function rescroll(e) {
    $(window).scrollTo($(e), 200, {
      offset: { left: 100, top: -200 },
      queue: false
    });
  }

  function reinit(e) {
    reinitState(e);
    rescroll(e);
  }

  function moveNext(e) {
    $(e).parent().parent().next().click();
  }

  function movePrev(e) {
    $(e).parent().parent().prev().click();
  }
};

$(".upform").upform();
$.fn.upform = function() {
  var $this = $(this);
  var container = $this.find(".upform-main");

  $(document).ready(function() {
    $(container).find(".input-block").first().click();
  });

  $($this).find("form").submit(function() {
    return false;
  });

  $(container)
    .find(".input-block")
    .not(".input-block input")
    .on("click", function() {
      rescroll(this);
    });

  $(container).find(".input-block input").keypress(function(e) {
    if (e.which == 13) {
      if ($(this).hasClass("required") && $(this).val() == "") {
      } else moveNext(this);
    }
  });

  $(container).find('.input-block input[type="radio"]').change(function(e) {
    moveNext(this);
  });

  $(window).on("scroll", function() {
    $(container).find(".input-block").each(function() {
      var etop = $(this).offset().top;
      var diff = etop - $(window).scrollTop();

      if (diff > 100 && diff < 300) {
        reinitState(this);
      }
    });
  });

  function reinitState(e) {
    $(container).find(".input-block").removeClass("active");

    $(container).find(".input-block input").each(function() {
      $(this).blur();
    });
    $(e).addClass("active");
    /*$(e).find('input').focus();*/
  }

  function rescroll(e) {
    $(window).scrollTo($(e), 200, {
      offset: { left: 100, top: -200 },
      queue: false
    });
  }

  function reinit(e) {
    reinitState(e);
    rescroll(e);
  }

  function moveNext(e) {
    $(e).parent().parent().next().click();
  }

  function movePrev(e) {
    $(e).parent().parent().prev().click();
  }
};

$(".upform").upform();
  </script>

</html>
