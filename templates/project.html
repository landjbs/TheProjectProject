{% extends 'home_base.html' %}

{% block title %}{{ project.name }}{% endblock %}

{% block head %}
  {{ super() }}
  <!-- Custom styles for this template -->
  <link href="css/scroll_styles.css" rel="stylesheet">
  <link href="css/sidebar.css" rel="stylesheet">
{% endblock %}

{% block content %}
<body>
  <div class="wrapper">
      <!-- Sidebar -->
      <nav id="sidebar">
          <div class="sidebar-header">
              <p class='float-right'>
                <i class="fa fa-star"></i>
                {{ project.stars|length }}
                &nbsp;
                <i class='far fa-user-circle'></i>
                {{ project.members|length }}
              </p>
              <h3>{{ project.name }}</h3>
              <a href='user={{ project.owner.email }}'>
                by {{ project.owner.name }}
              </a>
              <div class='action-bar'>
                {% if current_user.has_starred(project) %}
                  <a href="{{ url_for('like_action', project_id=project.id, action='unlike') }}">
                    <i class="fa fa-star"></i>
                  </a>
                {% else %}
                  <a href="{{ url_for('like_action', project_id=project.id, action='like') }}">
                    <i class="fa fa-star-o"></i>
                  </a>
                {% endif %}
                &nbsp;
                <a class="btn">Join</a>
                &nbsp;
                <i class="fa fa-share-alt" aria-hidden="false"></i>
              </div>
          </div>

          <ul class="list-unstyled components">
              <p>Dummy Heading</p>
              <li class="active">
                  <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false">Home</a>
                  <ul class="collapse list-unstyled" id="homeSubmenu">
                      <li>
                          <a href="#">Home 1</a>
                      </li>
                      <li>
                          <a href="#">Home 2</a>
                      </li>
                      <li>
                          <a href="#">Home 3</a>
                      </li>
                  </ul>
              </li>
              <li>
                  <a href="#">About</a>
                  <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false">Pages</a>
                  <ul class="collapse list-unstyled" id="pageSubmenu">
                      <li>
                          <a href="#">Page 1</a>
                      </li>
                      <li>
                          <a href="#">Page 2</a>
                      </li>
                      <li>
                          <a href="#">Page 3</a>
                      </li>
                  </ul>
              </li>
              <li>
                  <a href="#">Portfolio</a>
              </li>
              <li>
                  <a href="#">Contact</a>
              </li>
          </ul>
      </nav>

      <!-- Page Content -->
      <div id="content">

          <nav class="navbar navbar-expand-lg navbar-light bg-light">
              <div class="container-fluid">

                  <button type="button" id="sidebarCollapse" class="btn btn-info">
                      <i class="fas fa-align-left"></i>
                      <span>Toggle Sidebar</span>
                  </button>
              </div>
          </nav>
      </div>
      <!-- Dark Overlay element -->
      <div class="overlay"></div>
  </div>
</body>
{% endblock %}

<script type="text/javascript">
    $(document).ready(function () {
        $("#sidebar").mCustomScrollbar({
            theme: "minimal"
        });

        $('#dismiss, .overlay').on('click', function () {
            // hide sidebar
            $('#sidebar').removeClass('active');
            // hide overlay
            $('.overlay').removeClass('active');
        });

        $('#sidebarCollapse').on('click', function () {
            // open sidebar
            $('#sidebar').addClass('active');
            // fade in the overlay
            $('.overlay').addClass('active');
            $('.collapse.in').toggleClass('in');
            $('a[aria-expanded=true]').attr('aria-expanded', 'false');
        });
    });
</script>

</html>
