{% extends 'home_base.html' %}

{% block title %}{{ project.name }}{% endblock %}

{% block head %}
  {{ super() }}
  <script src='https://kit.fontawesome.com/a076d05399.js'></script>
  <link href="css/scroll_styles.css" rel="stylesheet">
  <link href="css/sidebar.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="wrapper">
    <!-- Sidebar -->
    <nav id="sidebar">
        <div class="sidebar-header">
            <p class='float-right'>
              <i class="fa fa-star"></i>
              {{ project.stars.all()|length }}
            </p>
            <h3>{{ project.name }}</h3>
            <p>
              by <a class='user-name' href='user={{ project.owner.email }}'>{{ project.owner.name }}</a>
            </p>
        </div>

        <ul class="list-unstyled components">
            <p class='oneliner'>
              {{ project.oneliner }}
            </p>
            <p>{{ project.summary }}</p>
            <li class="active">
                <a href="#memberSubmenu" data-toggle="collapse" aria-expanded="false">
                  Members
                  &nbsp;
                  <i class='far fa-user-circle'></i>
                  {{ project.members.all()|length }}
                </a>
                <ul class="collapse in list-unstyled" id="memberSubmenu">
                  {% for member in project.members %}
                    <li>
                        <a href="user={{ member.user.email }}">
                          {{ member.user.name }}
                          {% for role in member.roles %}
                            {% if loop.index==1 %}
                            &nbsp;-&nbsp;
                            {% else %}
                            ,&nbsp;
                            {% endif %}
                            {{ role.name }}
                          {% endfor %}
                        </a>
                    </li>
                  {% endfor %}
                </ul>
            </li>
            <li>
                <a href="#mediaSubmenu" data-toggle="collapse" aria-expanded="false">
                  Media
                </a>
                <ul class="collapse list-unstyled" id="mediaSubmenu">
                  {% for link in [project.url] %}
                    <li>
                        <a href="{{ link }}">{{ link }}</a>
                    </li>
                  {% endfor %}
                </ul>
            </li>
            <li>
                <a href="#subjectSubmenu" data-toggle="collapse" aria-expanded="false">
                  Subjects
                </a>
                <ul class="collapse list-unstyled" id="subjectSubmenu">
                  {% for subject in project.subjects %}
                    <li>
                        <a href="#">{{ subject }}</a>
                    </li>
                  {% endfor %}
                </ul>
            </li>
        </ul>
    </nav>
<!-- Page Content -->
    <div id="content" style='position:relative;'>
        <h1>asdf</h1>
    </div>
  <div>
  {% endblock %}
